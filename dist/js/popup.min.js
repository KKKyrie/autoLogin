var find=function(t){return document.querySelector(t)},sendMessage=chrome.tabs.sendMessage,onMessage=chrome.runtime.onMessage,query=chrome.tabs.query,container=find("#container"),showAddBtn=find("#showAddBtn"),addArea=find(".add-area"),cancelBtn=find("#cancelBtn"),confirmBtn=find("#confirmBtn"),accountBtnArea=find("#accountBtnArea"),accountNameInput=find("#accountName"),accountInput=find("#account"),passwordInput=find("#password"),Plugin={initButton:function(){var t=this,n="",e={};for(var a in localStorage)localStorage.hasOwnProperty(a)&&(n=t.getStorage(a),e=JSON.parse(n),e.account,e.password,t.createButton(a))},bindEvent:function(){var t=this;accountBtnArea.addEventListener("click",function(n){n.stopPropagation();var e=n.target,a=n.target.className,o="",c={};"account-btn"===a?(o=e.parentNode.getAttribute("storage-key"),c=JSON.parse(t.getStorage(o)),t.fillTheBlank(c.account,c.password)):"fa fa-trash"===a?(o=e.parentNode.parentNode.getAttribute("storage-key"),t.removeStorage(o),location.reload()):console.log("neither account-btn nor delete-btn.")},!1),showAddBtn.addEventListener("click",function(){addArea.style.display="block",showAddBtn.style.display="none"},!1),cancelBtn.addEventListener("click",function(){location.reload()},!1),confirmBtn.addEventListener("click",function(){var n=accountNameInput.value,e=accountInput.value,a=passwordInput.value;if(""===n||""===e||""===a)return void console.info("input incomplete.");var o={account:e,password:a},c=JSON.stringify(o);t.setStorage(n,c),t.clearInput(),location.reload()},!1)},showPanel:function(){addArea.style.display="block",showAddBtn.style.display="none"},hidePanel:function(){addArea.style.display="none",showAddBtn.style.display="block"},setStorage:function(t,n){localStorage.setItem(t,n)},getStorage:function(t){return localStorage.getItem(t)},removeStorage:function(t){localStorage.removeItem(t)},clearInput:function(){accountNameInput.value="",accountInput.value="",passwordInput.value=""},createButton:function(t,n,e){var a=document.createElement("div");a.className="button-row",a.setAttribute("storage-key",t);var o=document.createElement("button");o.className="account-btn",o.innerText=t;var c=document.createElement("div");c.className="icon-container";var r=document.createElement("i");r.className="fa fa-trash",c.appendChild(r),a.appendChild(o),a.appendChild(c),accountBtnArea.appendChild(a)},fillTheBlank:function(t,n){query({active:!0,currentWindow:!0},function(e){sendMessage(e[0].id,{action:"FILL_THE_BLANK",account:t,password:n},function(t){console.log(t)})})},init:function(){this.initButton(),this.bindEvent()}};Plugin.init();